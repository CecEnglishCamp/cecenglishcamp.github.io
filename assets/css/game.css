:root{
  --bg:#050505;
  --text:#ffffff;
  --muted:#9aa0a6;

  --cyan:#00f2ff;

  --danger:#ff2b2b;
  --dangerDim: rgba(255,43,43,.35);

  --green:#19ff88;
  --greenStrong:#00ffc3;

  --cardBg: rgba(255,255,255,.03);
  --cardBg2: rgba(255,255,255,.01);
  --line: rgba(255,255,255,.10);

  /* ✅ 기존(540x640)에서 약 30% 축소 */
  --cardW: 378px;  /* 540 * 0.7 */
  --cardH: 448px;  /* 640 * 0.7 */

  --radius: 20px;
  --border: 2px;
}

/* ===== 아래는 기존 game.css 전체 그대로 유지 ===== */
*{box-sizing:border-box}
html{scroll-behavior:smooth}
html,body{height:100%}
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background: radial-gradient(1200px 600px at 50% 0%, rgba(0,242,255,.05), transparent 55%),
              radial-gradient(1000px 700px at 20% 40%, rgba(255,43,43,.10), transparent 55%),
              var(--bg);
  color:var(--text);
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none}

/* TOP BAR */
.topbar{
  position:sticky;top:0;z-index:10;
  background:rgba(0,0,0,.85);
  border-bottom:1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
}
.topbar__inner{
  max-width:1200px;
  margin:0 auto;
  padding:16px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}
.brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:.3px}
.brand__logo{width:26px;height:26px;object-fit:contain}
.brand__name{font-size:20px}
.nav{display:flex;gap:26px;flex-wrap:wrap}
.nav a{color:#fff;opacity:.9;font-weight:600}
.nav a.active{opacity:1}

/* TITLE */
.title{
  max-width:1200px;
  margin:0 auto;
  padding:26px 20px 8px;
  text-align:center;
}
.title h1{
  margin:0;
  font-size:44px;
  font-weight:800;
  color:var(--cyan);
  text-shadow:0 0 14px rgba(0,242,255,.15);
}
.title__emoji{margin-right:10px}
.title__sub{margin-top:6px;color:rgba(255,255,255,.7)}
.title__desc{margin-top:10px;color:#fff}
@keyframes alertBlink{
  0%,100%{color:#ff5555;text-shadow:0 0 12px rgba(255,0,0,.65)}
  50%{color:#ffffff;text-shadow:0 0 0 rgba(255,0,0,0)}
}
#headerDesc.alert{animation:alertBlink 1.2s infinite ease-in-out}

/* LEVEL SELECT */
.level-screen{
  display:flex;
  justify-content:center;
  padding:18px 20px 40px;
}
.level-grid{display:flex;gap:44px;flex-wrap:wrap;justify-content:center}
.level-card{
  width:240px;height:300px;
  background:#0d0d0d;
  border:2px solid rgba(0,242,255,.85);
  border-radius:24px;
  cursor:pointer;
  transition:transform .2s, box-shadow .2s;
  padding:26px 18px;
  text-align:center;
  color:#fff;
}
.level-card:hover{
  transform:translateY(-2px);
  box-shadow:0 0 26px rgba(0,242,255,.25);
}
.level-card img{width:140px;height:auto;margin-bottom:8px}
.level-card h3{margin:0;font-size:28px;color:var(--cyan)}
.level-card p{margin-top:8px;color:rgba(255,255,255,.55)}

/* GAME LAYOUT */
.game-screen{max-width:1200px;margin:0 auto;padding:10px 20px 50px}
.game-grid{
  display:grid;
  grid-template-columns: var(--cardW) var(--cardW);
  gap:34px; /* ✅ 살짝 줄임 */
  align-items:start;
  justify-content:center;
}
@media (max-width: 920px){
  .game-grid{grid-template-columns:1fr;gap:22px}
}

/* CARD */
.card{
  width:var(--cardW);
  max-width:95vw;
  min-height:var(--cardH);
  border-radius:var(--radius);
  background:linear-gradient(180deg, var(--cardBg), var(--cardBg2));
  border:var(--border) solid var(--line);
  position:relative;
  overflow:hidden;
  padding:18px 16px 16px;
}

/* Battery */
.battery{margin-top:12px;text-align:center}
.battery__percent{font-weight:700;color:var(--cyan);margin-bottom:6px}
.battery__bar{
  width:92%;
  height:12px; /* ✅ 살짝 줄임 */
  margin:0 auto;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(0,242,255,.55);
  border-radius:999px;
  overflow:hidden;
}
.battery__fill{
  height:100%;
  width:3%;
  background:linear-gradient(90deg, #00ffb3, #00f2ff);
  border-radius:999px;
  transition:width .45s ease;
}

/* Robot media */
.robot-media{
  display:block;
  width:320px;     /* ✅ 카드에 맞게 같이 축소 */
  max-width:86%;
  margin:26px auto 0;
  position:relative;
  z-index:2;
}
.robot-gif{display:none;opacity:0}
.robot-gif.show{display:block;opacity:1}
.robot-video{
  display:none;
  width:320px;     /* ✅ 카드에 맞게 같이 축소 */
  max-width:86%;
  margin:26px auto 0;
  border-radius:16px;
  background:#000;
}
.robot-video.show{display:block}

/* (이하 옵션/완료/스테이지/쉐이크/섹션 등 기존 그대로 유지) */

/* RIGHT: question */
.badge{
  display:inline-block;
  background:rgba(0,242,255,.95);
  color:#000;
  font-weight:800;
  padding:8px 16px;
  border-radius:999px;
}
.panel__title{margin:18px 0 10px;font-size:28px;font-weight:800;color:var(--cyan)}
.panel__text{margin:0 0 18px;font-size:18px;color:#fff;opacity:.95}
.panel__options{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:12px;
  margin-top:14px;
}
@media (max-width: 560px){.panel__options{grid-template-columns:1fr}}
.option-btn{
  background:rgba(255,255,255,.06);
  border:2px solid rgba(255,255,255,.12);
  color:#fff;
  padding:14px 12px;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  transition: transform .12s, border-color .12s, background .12s;
}
.option-btn:hover{transform:translateY(-1px);border-color:rgba(0,242,255,.55);background:rgba(255,255,255,.09)}
.option-btn.correct{background:rgba(25,255,136,.22);border-color:rgba(25,255,136,.85)}
.option-btn.wrong{background:rgba(255,68,68,.22);border-color:rgba(255,68,68,.85)}
.option-btn[disabled]{opacity:.7;cursor:not-allowed}

/* Completion */
.card--complete{display:none}
.card--complete.show{display:block}
.complete__icons{font-size:22px;margin-top:12px}
.complete__line{margin-top:10px;color:rgba(255,255,255,.85)}
.complete__big{margin:30px 0 14px;font-size:30px;color:var(--green);text-align:center;font-weight:900}
.complete__score{margin-top:10px;text-align:center;font-size:20px;color:var(--cyan);font-weight:800}

/* Buttons */
.btn-row{display:flex;justify-content:center;gap:14px;flex-wrap:wrap;margin-top:22px}
.btn{border:none;padding:14px 20px;border-radius:999px;font-size:16px;font-weight:900;cursor:pointer}
.btn--primary{background:rgba(0,242,255,.95);color:#000;min-width:200px}
.btn--ghost{background:rgba(255,255,255,.22);color:#fff;min-width:110px}

/* stages */
.card--danger{
  border:var(--border) solid var(--danger);
  box-shadow: 0 0 0 1px rgba(255,43,43,.18),
              0 0 44px rgba(255,43,43,.20),
              0 0 110px rgba(255,43,43,.10);
  animation: dangerBlink 1.05s ease-in-out infinite;
}
@keyframes dangerBlink{
  0%,100%{border-color: rgba(255,43,43,.95);box-shadow:0 0 0 1px rgba(255,43,43,.20),0 0 48px rgba(255,43,43,.22),0 0 130px rgba(255,43,43,.12)}
  50%{border-color: rgba(255,43,43,.35);box-shadow:0 0 0 1px rgba(255,43,43,.10),0 0 18px rgba(255,43,43,.10),0 0 70px rgba(255,43,43,.05)}
}
.card--ok{border:var(--border) solid rgba(25,255,136,.85);box-shadow:0 0 0 1px rgba(25,255,136,.16),0 0 34px rgba(0,255,195,.14);animation:none}
.card--boost{border:var(--border) solid rgba(0,255,195,.92);box-shadow:0 0 0 1px rgba(0,255,195,.18),0 0 58px rgba(0,255,195,.20),0 0 140px rgba(0,255,195,.12);animation:none}
.card--ultra{border:var(--border) solid rgba(0,255,195,1);box-shadow:0 0 0 1px rgba(0,255,195,.22),0 0 88px rgba(0,255,195,.28),0 0 190px rgba(0,255,195,.16);animation:none}
.card--complete-left{border:var(--border) solid rgba(25,255,136,.95);box-shadow:0 0 0 1px rgba(25,255,136,.22),0 0 70px rgba(0,255,195,.22),0 0 200px rgba(0,255,195,.14);animation:none}

/* shake */
@keyframes shakeSoft{
  0%,100%{transform:translate(0,0) rotate(0deg)}
  20%{transform:translate(-1px, 1px) rotate(-0.4deg)}
  40%{transform:translate( 1px,-1px) rotate( 0.4deg)}
  60%{transform:translate(-1px,-1px) rotate( 0.3deg)}
  80%{transform:translate( 1px, 1px) rotate(-0.3deg)}
}
@keyframes shakeHard{
  0%,100%{transform:translate(0,0) rotate(0deg)}
  20%{transform:translate(-2px, 2px) rotate(-0.8deg)}
  40%{transform:translate( 2px,-2px) rotate( 0.8deg)}
  60%{transform:translate(-2px,-1px) rotate( 0.6deg)}
  80%{transform:translate( 2px, 1px) rotate(-0.6deg)}
}
.is-shaking-soft{animation:shakeSoft .22s linear infinite}
.is-shaking-hard{animation:shakeHard .16s linear infinite}

/* About/Register basic */
.info{max-width:1200px;margin:0 auto;padding:52px 20px;border-top:1px solid rgba(255,255,255,.06)}
.info h2{margin:0 0 14px;font-size:28px;color:var(--cyan)}
.info p{margin:0;color:rgba(255,255,255,.75);line-height:1.6}
.footer{max-width:1200px;margin:0 auto;padding:24px 20px 40px;color:rgba(255,255,255,.55)}
