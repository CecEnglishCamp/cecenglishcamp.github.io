/* =========================================================
File: assets/css/game.css
========================================================= */
:root{
  --bg:#050505;
  --panel:#0f0f0f;
  --panel2:#0b0b0b;
  --text:#ffffff;
  --muted:#9aa0a6;

  --cyan:#00f2ff;

  --danger:#ff2b2b;
  --danger2:#ff7070;

  --ok:#19ff88;
  --ok2:#00ffc3;

  --line: rgba(255,255,255,.12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background: radial-gradient(1200px 600px at 50% 0%, rgba(0,242,255,.05), transparent 55%),
              radial-gradient(1000px 700px at 20% 40%, rgba(255,43,43,.10), transparent 55%),
              var(--bg);
  color:var(--text);
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none}

/* TOP BAR */
.topbar{
  position:sticky;top:0;z-index:10;
  background:rgba(0,0,0,.85);
  border-bottom:1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
}
.topbar__inner{
  max-width:1200px;
  margin:0 auto;
  padding:16px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}
.brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:.3px}
.brand__logo{width:26px;height:26px;object-fit:contain}
.brand__name{font-size:20px}
.nav{display:flex;gap:26px;flex-wrap:wrap}
.nav a{color:#fff;opacity:.9;font-weight:600}
.nav a.active{opacity:1}

/* TITLE */
.title{
  max-width:1200px;
  margin:0 auto;
  padding:26px 20px 8px;
  text-align:center;
}
.title h1{
  margin:0;
  font-size:44px;
  font-weight:800;
  color:var(--cyan);
  text-shadow:0 0 14px rgba(0,242,255,.15);
}
.title__emoji{margin-right:10px}
.title__sub{margin-top:6px;color:rgba(255,255,255,.7)}
.title__desc{margin-top:10px;color:#fff}
@keyframes alertBlink{
  0%,100%{color:#ff5555;text-shadow:0 0 12px rgba(255,0,0,.65)}
  50%{color:#ffffff;text-shadow:0 0 0 rgba(255,0,0,0)}
}
#headerDesc.alert{animation:alertBlink 1.2s infinite ease-in-out}

/* LEVEL SELECT */
.level-screen{
  display:flex;
  justify-content:center;
  padding:18px 20px 40px;
}
.level-grid{display:flex;gap:44px;flex-wrap:wrap;justify-content:center}
.level-card{
  width:240px;height:300px;
  background:#0d0d0d;
  border:2px solid rgba(0,242,255,.85);
  border-radius:24px;
  cursor:pointer;
  transition:transform .2s, box-shadow .2s;
  padding:26px 18px;
  text-align:center;
  color:#fff;
}
.level-card:hover{
  transform:translateY(-2px);
  box-shadow:0 0 26px rgba(0,242,255,.25);
}
.level-card img{width:140px;height:auto;margin-bottom:8px}
.level-card h3{margin:0;font-size:28px;color:var(--cyan)}
.level-card p{margin-top:8px;color:rgba(255,255,255,.55)}

/* GAME LAYOUT */
.game-screen{max-width:1200px;margin:0 auto;padding:10px 20px 50px}
.game-grid{
  display:grid;
  grid-template-columns: 520px 1fr;
  gap:44px;
  align-items:start;
  justify-content:center;
}
@media (max-width: 1100px){
  .game-grid{grid-template-columns:1fr;gap:26px}
}

/* LEFT: ROBOT FRAME */
.robot-frame{
  width:520px;
  max-width:95vw;
  border-radius:26px;
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  position:relative;
  overflow:hidden;
  padding:22px 18px 18px;
}

/* ✅ 빨간 네모 + 점멸 */
.robot-frame.is-danger{
  border:3px solid var(--danger);
  box-shadow:
    0 0 0 1px rgba(255,43,43,.18),
    0 0 52px rgba(255,43,43,.22),
    0 0 120px rgba(255,43,43,.10);
  animation: dangerPulse 1.25s ease-in-out infinite;
}
@keyframes dangerPulse{
  0%,100%{
    border-color: rgba(255,43,43,.95);
    box-shadow:
      0 0 0 1px rgba(255,43,43,.20),
      0 0 52px rgba(255,43,43,.25),
      0 0 120px rgba(255,43,43,.12);
  }
  50%{
    border-color: rgba(255,112,112,.55);
    box-shadow:
      0 0 0 1px rgba(255,112,112,.12),
      0 0 22px rgba(255,43,43,.12),
      0 0 70px rgba(255,43,43,.06);
  }
}

/* ✅ 완료 시: 초록 네모 */
.robot-frame.is-complete{
  border:3px solid rgba(25,255,136,.9);
  box-shadow:
    0 0 0 1px rgba(25,255,136,.18),
    0 0 52px rgba(0,255,195,.18),
    0 0 140px rgba(0,255,195,.10);
  animation:none;
}

/* ✅ 원형 링(빨강) 회전 */
.ring-anim{
  position:absolute;
  inset:-60px;
  pointer-events:none;
  opacity:.95;

  background:
    conic-gradient(from 0deg,
      rgba(255,43,43,0) 0deg,
      rgba(255,43,43,.95) 45deg,
      rgba(255,43,43,0) 100deg,
      rgba(255,43,43,0) 180deg,
      rgba(255,43,43,.85) 240deg,
      rgba(255,43,43,0) 290deg,
      rgba(255,43,43,0) 360deg
    );

  -webkit-mask: radial-gradient(circle, transparent 60%, #000 63%);
  mask: radial-gradient(circle, transparent 60%, #000 63%);
  filter: blur(.2px) drop-shadow(0 0 12px rgba(255,43,43,.35));
  animation: spinRing 2.1s linear infinite;
}
@keyframes spinRing{to{transform:rotate(360deg)}}

/* ✅ 완료 시 링(초록) */
.robot-frame.is-complete .ring-anim{
  background:
    conic-gradient(from 0deg,
      rgba(0,255,195,0) 0deg,
      rgba(0,255,195,.95) 50deg,
      rgba(0,255,195,0) 110deg,
      rgba(0,255,195,0) 180deg,
      rgba(25,255,136,.85) 245deg,
      rgba(0,255,195,0) 300deg,
      rgba(0,255,195,0) 360deg
    );
  -webkit-mask: radial-gradient(circle, transparent 60%, #000 63%);
  mask: radial-gradient(circle, transparent 60%, #000 63%);
  animation: spinRing 1.55s linear infinite;
  filter: drop-shadow(0 0 14px rgba(0,255,195,.28));
}

/* ROBOT MEDIA */
.robot-media{
  display:block;
  width:360px;
  max-width:85%;
  margin:18px auto 0;
  position:relative;
  z-index:2;
}
.robot-gif{display:none;opacity:0}
.robot-gif.show{display:block;opacity:1}
.robot-video{
  display:none;
  width:360px;
  max-width:85%;
  margin:18px auto 0;
  border-radius:16px;
  background:#000;
}
.robot-video.show{display:block}

/* Battery (bottom like screenshot) */
.battery{
  margin-top:16px;
  position:relative;
  z-index:3;
  text-align:center;
}
.battery__percent{
  font-weight:700;
  color:var(--cyan);
  margin-bottom:6px;
}
.battery__bar{
  width:92%;
  height:14px;
  margin:0 auto;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(0,242,255,.55);
  border-radius:999px;
  overflow:hidden;
}
.battery__fill{
  height:100%;
  width:3%;
  background:linear-gradient(90deg, #00ffb3, #00f2ff);
  border-radius:999px;
  transition:width .45s ease;
}

/* RIGHT PANEL */
.panel{
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  border:2px solid rgba(255,255,255,.10);
  border-radius:26px;
  padding:26px 28px;
  min-height:280px;
}
.badge{
  display:inline-block;
  background:rgba(0,242,255,.95);
  color:#000;
  font-weight:800;
  padding:8px 16px;
  border-radius:999px;
}
.panel__title{
  margin:18px 0 10px;
  font-size:28px;
  font-weight:800;
  color:var(--cyan);
}
.panel__text{
  margin:0 0 20px;
  font-size:20px;
  color:#fff;
  opacity:.95;
}

/* Options (3 buttons row) */
.panel__options{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:14px;
  margin-top:12px;
}
@media (max-width: 560px){
  .panel__options{grid-template-columns:1fr}
}
.option-btn{
  background:rgba(255,255,255,.06);
  border:2px solid rgba(255,255,255,.12);
  color:#fff;
  padding:16px 14px;
  border-radius:14px;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
  transition: transform .12s, border-color .12s, background .12s;
}
.option-btn:hover{
  transform:translateY(-1px);
  border-color:rgba(0,242,255,.55);
  background:rgba(255,255,255,.09);
}
.option-btn.correct{
  background:rgba(25,255,136,.22);
  border-color:rgba(25,255,136,.85);
  color:#d9ffe9;
}
.option-btn.wrong{
  background:rgba(255,68,68,.22);
  border-color:rgba(255,68,68,.85);
  color:#ffd9d9;
}
.option-btn[disabled]{opacity:.7;cursor:not-allowed}

/* Completion panel */
.panel--complete{display:none}
.panel--complete.show{display:block}
.complete__icons{font-size:22px;margin-top:12px}
.complete__line{margin-top:10px;color:rgba(255,255,255,.85)}
.complete__big{
  margin:34px 0 16px;
  font-size:34px;
  color:var(--ok);
  text-align:center;
  font-weight:900;
}
.complete__score{
  margin-top:10px;
  text-align:center;
  font-size:22px;
  color:var(--cyan);
  font-weight:800;
}
.btn-row{display:flex;justify-content:center;gap:16px;flex-wrap:wrap;margin-top:24px}
.btn{
  border:none;
  padding:16px 22px;
  border-radius:999px;
  font-size:18px;
  font-weight:900;
  cursor:pointer;
}
.btn--primary{
  background:rgba(0,242,255,.95);
  color:#000;
  min-width:220px;
}
.btn--ghost{
  background:rgba(255,255,255,.22);
  color:#fff;
  min-width:120px;
}

